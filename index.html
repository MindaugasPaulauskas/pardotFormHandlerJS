<!DOCTYPE html>
<html lang="en">
<head>
<title>pardotFormHandlerJS demo page</title>
<meta charset="utf-8">
<meta name="description" content="pardotFormHandlerJS Demo">
<meta name="keywords" content="Pardot, Pardot Form Handler, Marketing Cloud Account Engagement, pardotFormHandlerJS">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link data-comment="MAIN STYLES" rel="stylesheet" href="/pardotFormHandlerJS/demo/resources/styles.css">
<script src="/pardotFormHandlerJS/pardot-form-handler-js.min.js"></script>
</head>
<body>
<noscript>Sorry, but you need to enable JavaScript for this demo to work.</noscript>
<section data-comment="MAIN TEXT">
    <div data-comment="GITHUB LINKS">
        <iframe src="https://ghbtns.com/github-btn.html?user=MindaugasPaulauskas&repo=pardotFormHandlerJS&type=star&count=true&size=large&v=2" frameborder="0" scrolling="0" width="170" height="30" title="GitHub stars"></iframe>
        <a href="https://github.com/MindaugasPaulauskas/pardotFormHandlerJS" target="_blank" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0;" aria-hidden="true"><path d="M0,0L115,115L130,115 L142,142L250,250L250,0Z"></path><path d="M128.3,109.0C113.8,99.7 119.0,89.6 119.0,89.6C122.0,82.7 120.5,78.6 120.5,78.6C119.2,72.0 123.4,76.3 123.4,76.3C127.3,80.9 125.5,87.3 125.5,87.3C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 0.56s ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 0.56s ease-in-out}}</style>
    </div>
    <h1><span class="pfhjs">pardot<wbr>Form<wbr>Handler<wbr>JS</span> demo page</h1>
    <p><i>pardotFormHandlerJS</i> is a script tailored for setting up custom Salesforce (aka "SFDC") Pardot (aka "Marketing Cloud Account Engagement") forms on your website without using iframes or backend APIs, as it sends requests directly from browser to Pardot handler.</p>
    <p>Save yourself some time and set up custom HTML forms with direct submissions to Pardot. <i>pardotFormHandlerJS</i> has custom JSONP AJAX implementation, allowing Pardot messaging in your form, request timeouts, endless customization (where only your imagination is the limit), and more...</p>
    <p>Instructions and documentation can be found on <a href="https://github.com/MindaugasPaulauskas/pardotFormHandlerJS" target="_blank"><span class=pfhjs>pardot<wbr>Form<wbr>Handler<wbr>JS</span> GitHub page</a></p>
</section>
<hr>
<section data-comment="SERVER INFO">
    <h2>Information on submissions</h2>
    <p>Demo forms are submitted to a mockup server, but submission data is not stored on the server.</p>
    <div class="not-a-part-of-the-demo starting-server">
        <div class="server-check">
            <div class="loader"></div>
            <div class="text">Checking Status / Starting Pardot server mockup... (~1min)</div>
        </div>
        <script>
            let serverCheck = {
                self: this,
                success: false,
                running: () => {
                    self.success = true;
                    document.querySelector(".server-check").classList.add("success");
                    document.querySelector(".server-check .text").innerHTML = "Mockup server is running";
                },
                declareFailure: () => {
                    if (self.success === true) {
                        return;
                    }
                    document.querySelector(".server-check").classList.add("failure");
                    document.querySelector(".server-check .text").innerHTML = "Looks like server didn't start, try again later...";
                }
            }
            setTimeout(() => document.querySelector(".server-check").classList.add("loading"), 3000);
            setTimeout(serverCheck.declareFailure, 80000);
            setTimeout(() => document.querySelector(".server-check").classList.add("hidden"), 600000);
        </script>
        <script src="https://pardothandler.onrender.com/status?start-server" async></script>
    </div>
    <p>In the case that Pardot Handler mockup server is down, you have an opportunity to check timeout functionality, while it's starting. After period of inactivity server will spin down again. It should take around a minute for it to spin back up after getting a timeout error.</p>
</section>
<section data-comment="DEMO 1" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-001.html"></section>
<section data-comment="DEMO 2" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-002.html"></section>
<section data-comment="DEMO 3" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-003.html"></section>
<section data-comment="DEMO 4" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-004.html"></section>
<section data-comment="DEMO 5" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-005.html"></section>
<section data-comment="AJAX DEMO" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-ajax.html"></section>
<section data-comment="UTIL DEMO" pardotFormHandlerJS-load-demo="/pardotFormHandlerJS/demo/demo-util.html"></section>
<script data-comment="DEMO LOADER">
(()=>{
    let demoLoader = {
        setDemoHTML: (targetElement, html) => {
            // Adding hairline.
            const hr = document.createElement("hr");
            targetElement.parentNode.insertBefore(hr, targetElement);

            // Adding html.
            targetElement.innerHTML = html;

            // Readding scripts in order to run them.
            const scriptElements = targetElement.querySelectorAll("script");
            for (let i = 0; i < scriptElements.length; i++) {
                let replacementScriptElement = document.createElement("script");
                for (let j = 0; j < Array.from(scriptElements[i].attributes).length; j++) {
                    let attribute = scriptElements[i].attributes[j];
                    replacementScriptElement.setAttribute(attribute.name, attribute.value)
                }
                scriptText = document.createTextNode(scriptElements[i].innerHTML);
                replacementScriptElement.appendChild(scriptText);
                scriptElements[i].parentNode.replaceChild(replacementScriptElement, scriptElements[i]);
            }
        },
        removeDemoBodyTags: (text) => {
            let scriptsAndStyles = "";
            text = text.replace(/<link\b[^>]*([\s\S]*?)rel=\"stylesheet\"([\s\S]*?)>/gi, (match) => {
                scriptsAndStyles += match;
                return "";
            });
            text = text.replace(/<style\b[^>]*>([\s\S]*?)<\/style>/gi, (match) => {
                scriptsAndStyles += match;
                return "";
            });
            text = text.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gi, (match) => {
                scriptsAndStyles += match;
                return "";
            });
            text = text.replace(/[\s\S]*<body[^>]*>/i, '');
            text = text.replace(/<\/body[^>]*>[\s\S]*/i, '');
            text += scriptsAndStyles;

            return text;
        },
        loadDemo: () => {
            const demoContainer = document.querySelector("[pardotFormHandlerJS-load-demo]");
            if (!demoContainer) {
                return;
            }

            const demoHtmlLocation = demoContainer.getAttribute("pardotFormHandlerJS-load-demo");
            const request = new XMLHttpRequest();
            request.onreadystatechange = function() {
                if (this.readyState !== 4) {
                    return;
                }

                if (this.status == 200) {
                    demoLoader.setDemoHTML(demoContainer, demoLoader.removeDemoBodyTags(this.responseText));
                }

                demoContainer.setAttribute("pardotFormHandlerJS-demo-loaded-from", ` ${location.protocol}//${location.host}${demoHtmlLocation}`);
                demoContainer.removeAttribute("pardotFormHandlerJS-load-demo");

                // Add link to a standalone demo.
                let demoHeader = demoContainer.getElementsByTagName("h2")[0];
                let demoNumber = demoHeader.innerHTML.substring(0, demoHeader.innerHTML.indexOf(":"));
                if (demoNumber.indexOf("Demo") === 0) {
                    demoHeader.innerHTML = `<a href="${location.protocol}//${location.host}${demoHtmlLocation}" target="_blank">${demoNumber}</a>${demoHeader.innerHTML.substring(demoNumber.length)}`;
                }

                // Load next demo.
                demoLoader.loadDemo();
            }
            request.open("GET", demoHtmlLocation, true);
            request.send();
        }
    };
    setTimeout(() => {
        demoLoader.loadDemo();
    });
})();
</script>
<hr>
<footer>
<p>Project Home: <a href="https://github.com/MindaugasPaulauskas/pardotFormHandlerJS" target="_blank"><span class=pfhjs>pardot<wbr>Form<wbr>Handler<wbr>JS</span> on GitHub</a></p>
<hr>
<p style="text-align:center;margin-bottom:30px;">Copyright &copy; 2024 Mindaugas Paulauskas, <a href="https://raw.githubusercontent.com/MindaugasPaulauskas/pardotFormHandlerJS/refs/heads/main/LICENSE" target="_blank">license</a></p>
</footer>
</body>
</html>
